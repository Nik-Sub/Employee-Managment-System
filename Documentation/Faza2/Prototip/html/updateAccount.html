<!--Created by Nikola Subaric-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/nikola.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo-details">
            <i class='bx bxl-c-plus-plus icon'></i>
            <div class="logo_name">EMS</div>
            <i class='bx bx-menu' id="btn" ></i>
        </div>
        <ul id="navlist" class="nav-list">
            <li>
            <a href="profile.html">
                <i class='bx bx-user' ></i>
                <span class="links_name">Profile</span>
            </a>
            <span class="tooltip">Profile</span>
            </li>
            <li>
            <a href="employeesOverview.html">
                <i class='bx bxs-user-detail'></i>
                <span class="links_name">Employees</span>
            </a>
            <span class="tooltip">Employees</span>
            </li>
            <li>
            <a href="meetings.html">
                <i class='bx bxs-objects-vertical-bottom'></i>
                <span class="links_name">Meetings</span>
            </a>
            <span class="tooltip">Meetings</span>
            </li>
            <li>
                <a href="roles.html">
                    <i class='bx bx-cog'></i>
                    <span class="links_name">Roles</span>
                </a>
                <span class="tooltip">Roles</span>
            </li>
            <li class="profile-side">
                <div class="profile-details">
                <div class="name_job">
                    <div class="name">Uros Kozic</div>
                    <div class="job">Senior Software Engineer</div>
                </div>
                </div>
                <i class='bx bx-log-out' id="log_out" ></i>
            </li>
        </ul>
        </div>
    <div id="main" class="container">
        <div id="divTitle" class="row">
            <div class="col-sm-12 titleHeader d-flex align-items-center">
                <h1 class="titleAcc align-items-center">Update Account</h1>
            </div>
        </div>
        <form id="idForma" action="employee.html" method="get" class="form" >
            <div class="row">
                <div class="col-sm-4 padding0"></div>
                <div id="left" class="col-sm-4 padding0">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="profilePicDiv mx-auto">
                                <img src="../img/user.png" id="photo" class="circle">
                                <input type="file" id="picForAcc">
                                <label for="picForAcc" id="uploadBtn"> Choose photo </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 paddingLeft0">
                            <div class="input-box">
                                <label>Name</label>
                                <input type="text" placeholder="Name" value="Boris" required />
                            </div>
                        </div>
                        <div class="col-sm-6 padding0">
                            <div class="input-box">
                                <label>Last name</label>
                                <input type="text" placeholder="Last name" value="Sobic" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 padding0">
                            <div class="input-box">
                                <label>Birth date</label>
                                <input id="datePickerId" type="date" placeholder="Enter date" value="2001-01-01" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 paddingLeft0">
                            <div class="input-box">
                                <label>Department</label>
                                <input type="text" placeholder="Enter department" value="Automotive" required />
                            </div>
                        </div>
                        <div class="col-sm-6 padding0">
                            <div class="input-box">
                                <label>Role</label>
                                <br>
                                <select class="select-box">
                                    <option>User</option>
                                    <option selected>Manager</option>
                                    <option>Admin</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-box col-sm-12 padding0">
                            <label>Username</label>
                            <input type="text" placeholder="Enter username" value="kozic111" required />
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-box col-sm-12 padding0">
                            <label>Old password</label>
                            <input type="password" value="sifra1234" required />
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-box col-sm-12 padding0">
                            <label>New password</label>
                            <input type="password"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-box col-sm-12 padding0">
                            <label>Confirm new password</label>
                            <input type="password"/>
                        </div>  
                    </div>
                </div>
                <div class="col-sm-4 padding0"></div>
            </div>
            <div class="row padding0">
                <div class="col-sm-4"></div>
                <div class="column col-sm-4 buttons">
                    <input class="create-button" type="submit" left="300"/>
                    <a class="cancel-button" href="employee.html">Cancel</a>
                </div>
                <div class="col-sm-4"></div>
            </div>
        </form>
    </section>
    <script >

    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");

    let logOutBtn = document.querySelector("#log_out");
    
    logOutBtn.addEventListener("click", ()=>{
        window.location.href = 'login.html';
    });

    closeBtn.addEventListener("click", ()=>{
        sidebar.classList.toggle("open");
        menuBtnChange();
    });

    function menuBtnChange() {
    if(sidebar.classList.contains("open")){
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
    }else {
        closeBtn.classList.replace("bx-menu-alt-right","bx-menu");
    }
    }
    // add picture

    const imgDiv = document.querySelector('.profilePicDiv');
    const img = document.querySelector('#photo');
    const picForAcc = document.querySelector('#picForAcc');
    const uploadBtn = document.querySelector("#uploadBtn");

    // if user hover on profilePic div
    imgDiv.addEventListener('mouseenter', function(){
    uploadBtn.style.display = "block";
    });

    //if we hover out from profilePic div
    imgDiv.addEventListener('mouseleave', function(){
    uploadBtn.style.display = "none";
    });

    imgDiv.addEventListener('click', function(){
        picForAcc.click();
    });

    // when we choose a foto to upload
    picForAcc.addEventListener('change', function(){
    
    // this refers to file
    const choosedFile = this.files[0];

    if (choosedFile){
        const reader = new FileReader();
        reader.addEventListener('load', function(){
            img.setAttribute('src', reader.result);
        })

        reader.readAsDataURL(choosedFile);

    }
    })

    
    //max date of birth

    let datePickerId = document.getElementById("datePickerId");
    datePickerId.max = new Date().toISOString().split("T")[0];
  </script>
</body>
</html>